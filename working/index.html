<!doctype html>
<html lang="en">

<head>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.14.2/css/ol.css" type="text/css">
    <link rel="stylesheet" href="workingstyle.css" />

    <script src="http://openlayers.org/en/v3.14.2/build/ol.js"></script>
    <title>OpenLayers 3 example</title>
</head>

<body>

    <div id="map" class="map"></div>

    <script>
        var vectorSource = new ol.source.Vector({          

        });



        //add the feature vector to the layer vector, and apply a style to whole layer
        var vectorLayer = new ol.layer.Vector({
            source: vectorSource
        });



        var esrilayer = new ol.layer.Tile({
            source: new ol.source.XYZ({
                url: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'
            })

        });

        var osmLayer = new ol.layer.Tile({
            source: new ol.source.OSM(),
            visible: false
        });

        var StaLayer = new ol.layer.Tile({
            visible: false,
            source: new ol.source.Stamen({
                visible: false,
                layer: 'watercolor'
            })
        });

        var StaLayer2 = new ol.layer.Tile({
            visible: false,
            source: new ol.source.Stamen({
                layer: 'terrain-labels'
            })
        });

        var bingLayer = new ol.layer.Tile({
            visible: false,
            preload: Infinity,
            source: new ol.source.BingMaps({
                key: 'Am3aUotpnbQhoukL30idwcVMQhcQUbl7Mg99Yj2Rb3STd79kUladmdYNpCxoGALH',
                imagerySet: 'AerialWithLabels'

                // use maxZoom 19 to see stretched tiles instead of the BingMaps
                // "no photos at this zoom level" tiles
                // maxZoom: 19
            })
        });









        // Creates our map, adds our two layers to it, sets our view, and inserts the map into the div with id='map'.
        var map = new ol.Map({
            target: 'map',
            view: new ol.View({ // Creates an instance of View, our maps "window".
                center: ol.proj.transform(
                    [35.2349, 31.77], 'EPSG:4326', 'EPSG:3857'),
                zoom: 2,
				maxZoom: 17
            }),
            layers: [esrilayer, osmLayer, StaLayer, StaLayer2, bingLayer, vectorLayer

            ]
        });


        function myFunction() {
            // document.getElementById("demo").innerHTML = "Hello World";

            osmLayer.setVisible(true);
            esrilayer.setVisible(false);
            StaLayer.setVisible(false);
            bingLayer.setVisible(false);
        };

        function myFunction2() {


            osmLayer.setVisible(false);
            esrilayer.setVisible(true);
            StaLayer.setVisible(false);
			   StaLayer2.setVisible(false);
            bingLayer.setVisible(false);
        };

        function myFunction3() {

            osmLayer.setVisible(false);
            esrilayer.setVisible(false);
            StaLayer.setVisible(true);
            StaLayer2.setVisible(true);
            bingLayer.setVisible(false);

        };

        function myFunction4() {

            osmLayer.setVisible(false);
            esrilayer.setVisible(false);
            StaLayer.setVisible(false);
            bingLayer.setVisible(true);

        };

        function addmarker(longitude, latitude, lugar) {


            var iconStyle3 = [
                new ol.style.Style({
                    image: new ol.style.Icon( /** @type {olx.style.IconOptions} */ ({
                        anchor: [0.5, 1],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'fraction',
                        src: 'http://maps.google.com/mapfiles/kml/paddle/ylw-blank.png',
                    }))
                }),
                new ol.style.Style({
                    text: new ol.style.Text({
                        text: lugar,
                        offsetY: 10,
                        font: 'Normal 16px Arial',
                        fill: new ol.style.Fill({
                            color: '#fff'
                        })
                    })
                })
            ];



            var iconFeat = new ol.Feature({
                geometry: new
                ol.geom.Point(ol.proj.transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857')),
                name: 'Null Island ',
                population: 4000,
                rainfall: 500
            });


            iconFeat.setStyle(iconStyle3);
            vectorSource.addFeature(iconFeat);



        };

        function myFunction6() {



            vectorLayer.getSource().clear();


            //       vectorLayer.getSource().removeFeature(iconFeature);

        };
		
		
			  	 function zoom(value) {
    map.getView().setZoom(value);	
}

	 function center(longitud,latitud) {
    map.getView().setCenter(ol.proj.transform([longitud, latitud], 'EPSG:4326', 'EPSG:3857'))
}


   

    </script>

    <button onclick="myFunction()">osm</button>
    <button onclick="myFunction2()">esri</button>
    <button onclick="myFunction3()">stamen</button>
    <button onclick="myFunction4()">bing</button>
    <button onclick="addmarker(35.2349,31.77,'hola' )">prueba</button>
    <button onclick="myFunction6()">remove</button>
    <button onclick="myFunction7(35.2349,31.77)">point2</button>

</body>

</html>
